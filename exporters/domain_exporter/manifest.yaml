name: domain_exporter
description: "Exports the expiration time of your domains as Prometheus metrics."
category: Web
version: "v1.24.1"
new: true
updated: false

upstream:
  type: github
  repo: caarlos0/domain_exporter
  strategy: latest_release
  archive_name: "{name}_{clean_version}_linux_{arch}.tar.gz"

build:
  method: binary_repack
  binary_name: domain_exporter
  archs:
    - amd64
    - arm64

artifacts:
  rpm:
    enabled: true
    summary: "Prometheus domain Exporter"
    targets:
      - el8
      - el9
      - el10
    system_user: domain_exporter
    systemd:
      enabled: true

  docker:
    enabled: true
    entrypoint: ["/usr/bin/domain_exporter"]
    validation:
      enabled: true
      port: 9222
